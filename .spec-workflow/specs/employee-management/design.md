# Design Document

## Overview

å¾“æ¥­å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã€React Nativeã€Material-UIã€TypeScriptã‚’ä½¿ç”¨ã—ãŸãƒ¢ãƒ€ãƒ³ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¾ã™ã€‚Supabaseã‚’èªè¨¼ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦æ´»ç”¨ã—ã€microk8sä¸Šã®Podã§å‹•ä½œã™ã‚‹é–‹ç™ºç’°å¢ƒã¨ã€Vercelã§ã®æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«å¯¾å¿œã—ãŸæ§‹æˆã¨ãªã‚Šã¾ã™ã€‚

## Steering Document Alignment

### Technical Standards (tech.md)
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: React Native Web (Webå¯¾å¿œ), TypeScript
- **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Material-UI (MUI) v5
- **çŠ¶æ…‹ç®¡ç†**: React Context API + React Query (ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹)
- **èªè¨¼**: Supabase Auth
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š**: Supabase Client
- **ãƒ†ã‚¹ãƒˆ**: Vitest (å˜ä½“ãƒ†ã‚¹ãƒˆ), Playwright (E2E)
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Vite

### Project Structure (structure.md)
ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã«åŸºã¥ãéšå±¤åŒ–ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼š
- `src/components/` - å†åˆ©ç”¨å¯èƒ½UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `src/pages/` - ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `src/services/` - APIãƒ»èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹
- `src/hooks/` - ã‚«ã‚¹ã‚¿ãƒ Reactãƒ•ãƒƒã‚¯
- `src/types/` - TypeScriptå‹å®šç¾©
- `src/utils/` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- `src/contexts/` - Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ

## Code Reuse Analysis

### Existing Components to Leverage
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ–°è¦ã®ãŸã‚ã€ä»¥ä¸‹ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åŸºç›¤ã¨ã—ã¦æ´»ç”¨ï¼š
- **Material-UI Components**: Button, TextField, Table, Dialog, Snackbarç­‰ã®åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **React Router**: ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **React Query**: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
- **Supabase Client**: èªè¨¼ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

### Integration Points
- **Supabase Database**: employees, sites, assignmentsãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®é€£æº
- **Supabase Auth**: JWTèªè¨¼ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **Material-UI Theme**: ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- **React Native Web**: Webç’°å¢ƒã§ã®ãƒ¢ãƒã‚¤ãƒ«ä½“é¨“æä¾›

## Architecture

ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã€é–¢å¿ƒã®åˆ†é›¢ã¨ä¿å®ˆæ€§ã‚’é‡è¦–ã—ãŸè¨­è¨ˆã¨ã—ã¾ã™ã€‚

### Modular Design Principles
- **Single File Responsibility**: å„ãƒ•ã‚¡ã‚¤ãƒ«ã¯å˜ä¸€ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¾ãŸã¯æ©Ÿèƒ½ã‚’æ‹…å½“
- **Component Isolation**: å°ã•ãé›†ä¸­ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€å¤§ããªãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¿ã‘ã‚‹
- **Service Layer Separation**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã‚’åˆ†é›¢
- **Utility Modularity**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’é›†ä¸­ã—ãŸå˜ä¸€ç›®çš„ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ†å‰²

```mermaid
graph TD
    A[Pages Layer] --> B[Components Layer]
    A --> C[Services Layer]
    B --> D[UI Components]
    B --> E[Business Components]
    C --> F[Auth Service]
    C --> G[API Service]
    C --> H[Database Service]
    F --> I[Supabase Auth]
    G --> J[Supabase API]
    H --> J
    K[Contexts] --> A
    K --> B
    L[Hooks] --> B
    L --> C
```

## Components and Interfaces

### AuthProvider Context
- **Purpose:** èªè¨¼çŠ¶æ…‹ã®ç®¡ç†ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ã®å…±æœ‰
- **Interfaces:**
  - `login(email: string, password: string): Promise<void>`
  - `logout(): Promise<void>`
  - `user: User | null`
  - `loading: boolean`
- **Dependencies:** Supabase Auth Client
- **Reuses:** Supabaseèªè¨¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### EmployeeList Component
- **Purpose:** å¾“æ¥­å“¡ä¸€è¦§ã®è¡¨ç¤ºã€æ¤œç´¢ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
- **Interfaces:**
  - `onEmployeeSelect(employee: Employee): void`
  - `onEmployeeEdit(employee: Employee): void`
  - `onEmployeeDelete(employeeId: string): void`
- **Dependencies:** Material-UI Table, Search Components
- **Reuses:** MUI DataGrid, å…±é€šæ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### EmployeeForm Component
- **Purpose:** å¾“æ¥­å“¡ã®æ–°è¦ç™»éŒ²ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
- **Interfaces:**
  - `employee?: Employee` (ç·¨é›†æ™‚)
  - `onSubmit(employee: EmployeeFormData): void`
  - `onCancel(): void`
- **Dependencies:** Material-UI Form Components, React Hook Form
- **Reuses:** MUI TextField, Button, Form validation utilities

### SiteList Component
- **Purpose:** ç¾å ´ä¸€è¦§ã®è¡¨ç¤ºã€æ¤œç´¢æ©Ÿèƒ½
- **Interfaces:**
  - `onSiteSelect(site: Site): void`
  - `onSiteEdit(site: Site): void`
  - `onSiteDelete(siteId: string): void`
- **Dependencies:** Material-UI Table Components
- **Reuses:** MUI DataGrid, æ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### SiteForm Component
- **Purpose:** ç¾å ´ã®æ–°è¦ç™»éŒ²ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
- **Interfaces:**
  - `site?: Site` (ç·¨é›†æ™‚)
  - `onSubmit(site: SiteFormData): void`
  - `onCancel(): void`
- **Dependencies:** Material-UI Form Components
- **Reuses:** MUI TextField, Button, DatePicker

### AssignmentManager Component
- **Purpose:** å¾“æ¥­å“¡ã¨ç¾å ´ã®é…å±ç®¡ç†
- **Interfaces:**
  - `onAssignmentCreate(assignment: AssignmentFormData): void`
  - `onAssignmentDelete(assignmentId: string): void`
- **Dependencies:** Material-UI Select, Autocomplete
- **Reuses:** MUI Select, Autocomplete, DateRangePicker

### Navigation Component
- **Purpose:** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **Interfaces:**
  - `currentPage: string`
  - `onNavigate(page: string): void`
- **Dependencies:** Material-UI AppBar, Drawer
- **Reuses:** MUI Navigation components

## Screen Design

### Screen Layout Structure
å…¨ç”»é¢ã¯çµ±ä¸€ã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã‚’æŒã¡ã€Material-UIã®Box layoutã¨Grid systemã‚’æ´»ç”¨ã—ã¾ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Header/AppBar          â”‚
â”‚  [Logo] [Navigation] [User Menu]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                       â”‚
â”‚ Side   â”‚     Main Content      â”‚
â”‚ Nav    â”‚     Area              â”‚
â”‚ (opt)  â”‚                       â”‚
â”‚        â”‚                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Footer               â”‚
â”‚       [Copyright Info]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Detailed Screen Layouts and Navigation

#### 1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ (`/login`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚       [ä¼šç¤¾ãƒ­ã‚´]                â”‚
â”‚    å¾“æ¥­å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ            â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹         â”‚   â”‚
â”‚  â”‚  [________________]     â”‚   â”‚
â”‚  â”‚                         â”‚   â”‚
â”‚  â”‚  ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰             â”‚   â”‚
â”‚  â”‚  [________________]     â”‚   â”‚
â”‚  â”‚                         â”‚   â”‚
â”‚  â”‚  [ãƒ­ã‚°ã‚¤ãƒ³] ãƒœã‚¿ãƒ³      â”‚   â”‚
â”‚  â”‚                         â”‚   â”‚
â”‚  â”‚  [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é ˜åŸŸ] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ãƒ­ã‚°ã‚¤ãƒ³]` ãƒœã‚¿ãƒ³ â†’ `/dashboard` (èªè¨¼æˆåŠŸæ™‚)
- èªè¨¼å¤±æ•—æ™‚ â†’ åŒã˜ç”»é¢ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

#### 2. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢ (`/dashboard`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                  â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚å¾“æ¥­å“¡æ•°  â”‚ â”‚ç¾å ´æ•°   â”‚ â”‚é…å± â”‚ â”‚ çµ±è¨ˆã‚«ãƒ¼ãƒ‰
â”‚ â”‚  123äºº  â”‚ â”‚  45ä»¶   â”‚ â”‚ 78ä»¶â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³              â”‚
â”‚ [æ–°è¦å¾“æ¥­å“¡ç™»éŒ²] [æ–°è¦ç¾å ´ç™»éŒ²] â”‚
â”‚                                 â”‚
â”‚ æœ€è¿‘ã®æ´»å‹•                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç”°ä¸­å¤ªéƒ ãŒæ±äº¬ç¾å ´ã«é…å±    â”‚ â”‚
â”‚ â”‚ æ–°ç¾å ´ã€Œå¤§é˜ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€   â”‚ â”‚
â”‚ â”‚ ä½è—¤èŠ±å­ ã®æƒ…å ±ã‚’æ›´æ–°       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[æ–°è¦å¾“æ¥­å“¡ç™»éŒ²]` ãƒœã‚¿ãƒ³ â†’ `/employees/new`
- `[æ–°è¦ç¾å ´ç™»éŒ²]` ãƒœã‚¿ãƒ³ â†’ `/sites/new`
- ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³:
  - `å¾“æ¥­å“¡ç®¡ç†` â†’ `/employees`
  - `ç¾å ´ç®¡ç†` â†’ `/sites`
  - `é…å±ç®¡ç†` â†’ `/assignments`
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼: `[ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼]` â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« `/profile`, ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

#### 3. å¾“æ¥­å“¡ä¸€è¦§ç”»é¢ (`/employees`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > å¾“æ¥­å“¡ç®¡ç†     â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼                â”‚
â”‚ [æ¤œç´¢: åå‰,éƒ¨ç½²,å½¹è· ________] â”‚
â”‚ éƒ¨ç½²:[å…¨ã¦â–¼] çŠ¶æ³:[å…¨ã¦â–¼]      â”‚
â”‚                                 â”‚
â”‚ [æ–°è¦ç™»éŒ²] [ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¾“æ¥­å“¡ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚
â”‚ â”‚åå‰  â”‚éƒ¨ç½²    â”‚å½¹è·  â”‚çŠ¶æ³â”‚æ“ä½œâ”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ç”°ä¸­å¤ªâ”‚é–‹ç™ºéƒ¨  â”‚SE   â”‚åœ¨ç±â”‚[ç·¨]â”‚ â”‚
â”‚ â”‚éƒ    â”‚        â”‚     â”‚    â”‚[å‰Š]â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ä½è—¤èŠ±â”‚å–¶æ¥­éƒ¨  â”‚ä¸»ä»» â”‚åœ¨ç±â”‚[ç·¨]â”‚ â”‚
â”‚ â”‚å­    â”‚        â”‚     â”‚    â”‚[å‰Š]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚
â”‚          [< å‰ã¸]  1  [æ¬¡ã¸ >]   â”‚ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[æ–°è¦ç™»éŒ²]` ãƒœã‚¿ãƒ³ â†’ `/employees/new`
- `[ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]` ãƒœã‚¿ãƒ³ â†’ CSV/Excel ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (åŒã˜ç”»é¢)
- å„è¡Œã® `[ç·¨]` ãƒœã‚¿ãƒ³ â†’ `/employees/{id}/edit`
- å„è¡Œã® `[å‰Š]` ãƒœã‚¿ãƒ³ â†’ å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ å‰Šé™¤å®Ÿè¡Œ (åŒã˜ç”»é¢ã§æ›´æ–°)
- å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯ â†’ `/employees/{id}` (è©³ç´°ç”»é¢)

#### 4. å¾“æ¥­å“¡è©³ç´°ç”»é¢ (`/employees/:id`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > å¾“æ¥­å“¡ç®¡ç† >   â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”‚ å¾“æ¥­å“¡è©³ç´° (ç”°ä¸­å¤ªéƒ)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ åŸºæœ¬æƒ…å ±              [ç·¨é›†]â”‚ â”‚
â”‚ â”‚ åå‰: ç”°ä¸­ å¤ªéƒ            â”‚ â”‚
â”‚ â”‚ ãƒ¡ãƒ¼ãƒ«: tanaka@example.com â”‚ â”‚
â”‚ â”‚ éƒ¨ç½²: é–‹ç™ºéƒ¨              â”‚ â”‚
â”‚ â”‚ å½¹è·: SE                  â”‚ â”‚
â”‚ â”‚ å…¥ç¤¾æ—¥: 2023-04-01        â”‚ â”‚
â”‚ â”‚ çŠ¶æ³: åœ¨ç±                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ ç¾åœ¨ã®é…å±çŠ¶æ³                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ            â”‚ â”‚
â”‚ â”‚ é…å±æ—¥: 2024-01-15          â”‚ â”‚
â”‚ â”‚ å½¹å‰²: ãƒ¡ã‚¤ãƒ³é–‹ç™ºè€…          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ é…å±å±¥æ­´                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ç¾å ´  â”‚é…å±æœŸé–“        â”‚å½¹å‰²    â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚æ±äº¬  â”‚2024-01-15 -    â”‚ãƒ¡ã‚¤ãƒ³  â”‚   â”‚
â”‚ â”‚å¤§é˜ª  â”‚2023-04-01 -    â”‚ã‚µãƒ–    â”‚   â”‚
â”‚ â”‚      â”‚2023-12-31      â”‚        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚ [ç·¨é›†] [å‰Šé™¤] [ä¸€è¦§ã«æˆ»ã‚‹]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ç·¨é›†]` ãƒœã‚¿ãƒ³ (ãƒ˜ãƒƒãƒ€ãƒ¼å†…) â†’ `/employees/{id}/edit`
- `[ç·¨é›†]` ãƒœã‚¿ãƒ³ (ä¸‹éƒ¨) â†’ `/employees/{id}/edit`
- `[å‰Šé™¤]` ãƒœã‚¿ãƒ³ â†’ å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ `/employees` (å‰Šé™¤å¾Œä¸€è¦§ã«æˆ»ã‚‹)
- `[ä¸€è¦§ã«æˆ»ã‚‹]` ãƒœã‚¿ãƒ³ â†’ `/employees`
- ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ `å¾“æ¥­å“¡ç®¡ç†` â†’ `/employees`

#### 5. å¾“æ¥­å“¡ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢ (`/employees/new`, `/employees/:id/edit`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > å¾“æ¥­å“¡ç®¡ç† >   â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”‚ å¾“æ¥­å“¡ç™»éŒ²/ç·¨é›†                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ 2ã‚«ãƒ©ãƒ 
â”‚ â”‚ å§“ *            â”‚ å *        â”‚ â”‚ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚ â”‚ [_____________] â”‚ [_________] â”‚ â”‚
â”‚ â”‚                 â”‚             â”‚ â”‚
â”‚ â”‚ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ * â”‚ é›»è©±ç•ªå·    â”‚ â”‚
â”‚ â”‚ [_____________] â”‚ [_________] â”‚ â”‚
â”‚ â”‚                 â”‚             â”‚ â”‚
â”‚ â”‚ éƒ¨ç½² *          â”‚ å½¹è· *      â”‚ â”‚
â”‚ â”‚ [é–‹ç™ºéƒ¨â–¼]      â”‚ [SEâ–¼]      â”‚ â”‚
â”‚ â”‚                 â”‚             â”‚ â”‚
â”‚ â”‚ å…¥ç¤¾æ—¥ *        â”‚ çŠ¶æ³        â”‚ â”‚
â”‚ â”‚ [2024-01-01]   â”‚ [åœ¨ç±â–¼]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ * å¿…é ˆé …ç›®                      â”‚
â”‚ [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é ˜åŸŸ]          â”‚
â”‚                                 â”‚
â”‚ [ä¿å­˜] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ä¿å­˜]` ãƒœã‚¿ãƒ³ â†’
  - æ–°è¦ä½œæˆæ™‚: ãƒ‡ãƒ¼ã‚¿ä¿å­˜å¾Œ `/employees/{æ–°ã—ã„id}` (è©³ç´°ç”»é¢)
  - ç·¨é›†æ™‚: ãƒ‡ãƒ¼ã‚¿ä¿å­˜å¾Œ `/employees/{id}` (è©³ç´°ç”»é¢)
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚: åŒã˜ç”»é¢ã§ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- `[ã‚­ãƒ£ãƒ³ã‚»ãƒ«]` ãƒœã‚¿ãƒ³ â†’
  - æ–°è¦ä½œæˆæ™‚: `/employees`
  - ç·¨é›†æ™‚: `/employees/{id}`

#### 6. ç¾å ´ä¸€è¦§ç”»é¢ (`/sites`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > ç¾å ´ç®¡ç†       â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼                â”‚
â”‚ [æ¤œç´¢: ç¾å ´å,æ‰€åœ¨åœ° ________]  â”‚
â”‚ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:[å…¨ã¦â–¼] [ğŸ”æ¤œç´¢]    â”‚
â”‚                                 â”‚
â”‚ [æ–°è¦ç™»éŒ²] [è¡¨ç¤ºåˆ‡æ›¿: ã‚«ãƒ¼ãƒ‰â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¾å ´ä¸€è¦§ (ã‚«ãƒ¼ãƒ‰è¡¨ç¤º)           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚ â”‚å¤§é˜ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚ â”‚
â”‚ â”‚å ´æ‰€: æ±äº¬éƒ½   â”‚ â”‚å ´æ‰€: å¤§é˜ªåºœ   â”‚ â”‚
â”‚ â”‚çŠ¶æ³: é€²è¡Œä¸­   â”‚ â”‚çŠ¶æ³: å®Œäº†     â”‚ â”‚
â”‚ â”‚æœŸé–“: 2024-   â”‚ â”‚æœŸé–“: 2023-2024â”‚ â”‚
â”‚ â”‚[è©³ç´°][ç·¨é›†]   â”‚ â”‚[è©³ç´°][ç·¨é›†]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ç¦å²¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚               â”‚
â”‚ â”‚å ´æ‰€: ç¦å²¡çœŒ   â”‚               â”‚
â”‚ â”‚çŠ¶æ³: æº–å‚™ä¸­   â”‚               â”‚
â”‚ â”‚æœŸé–“: 2024-   â”‚               â”‚
â”‚ â”‚[è©³ç´°][ç·¨é›†]   â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚          [< å‰ã¸]  1  [æ¬¡ã¸ >]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[æ–°è¦ç™»éŒ²]` ãƒœã‚¿ãƒ³ â†’ `/sites/new`
- `[è¡¨ç¤ºåˆ‡æ›¿]` ã‚»ãƒ¬ã‚¯ãƒˆ â†’ ã‚«ãƒ¼ãƒ‰è¡¨ç¤º/ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º (åŒã˜ç”»é¢)
- å„ã‚«ãƒ¼ãƒ‰ã® `[è©³ç´°]` ãƒœã‚¿ãƒ³ â†’ `/sites/{id}`
- å„ã‚«ãƒ¼ãƒ‰ã® `[ç·¨é›†]` ãƒœã‚¿ãƒ³ â†’ `/sites/{id}/edit`
- ç¾å ´åã‚¯ãƒªãƒƒã‚¯ â†’ `/sites/{id}`

#### 7. ç¾å ´è©³ç´°ç”»é¢ (`/sites/:id`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > ç¾å ´ç®¡ç† >     â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”‚ ç¾å ´è©³ç´° (æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç¾å ´æƒ…å ±              [ç·¨é›†]â”‚ â”‚
â”‚ â”‚ ç¾å ´å: æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ    â”‚ â”‚
â”‚ â”‚ æ‰€åœ¨åœ°: æ±äº¬éƒ½åƒä»£ç”°åŒº      â”‚ â”‚
â”‚ â”‚ é–‹å§‹æ—¥: 2024-01-01          â”‚ â”‚
â”‚ â”‚ çµ‚äº†æ—¥: æœªå®š                â”‚ â”‚
â”‚ â”‚ çŠ¶æ³: é€²è¡Œä¸­                â”‚ â”‚
â”‚ â”‚ è²¬ä»»è€…: å±±ç”°éƒ¨é•·            â”‚ â”‚
â”‚ â”‚ èª¬æ˜: æ–°ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ é…å±å¾“æ¥­å“¡ (3å)        [é…å±] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚åå‰  â”‚å½¹å‰²        â”‚é…å±æœŸé–“    â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ç”°ä¸­å¤ªâ”‚ãƒ¡ã‚¤ãƒ³é–‹ç™º  â”‚2024-01-15- â”‚   â”‚
â”‚ â”‚ä½è—¤èŠ±â”‚ã‚µãƒ–é–‹ç™º    â”‚2024-02-01- â”‚   â”‚
â”‚ â”‚éˆ´æœ¨ä¸€â”‚ãƒ†ã‚¹ã‚¿ãƒ¼    â”‚2024-01-15- â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚ [ç·¨é›†] [å‰Šé™¤] [ä¸€è¦§ã«æˆ»ã‚‹]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ç·¨é›†]` ãƒœã‚¿ãƒ³ (ãƒ˜ãƒƒãƒ€ãƒ¼å†…) â†’ `/sites/{id}/edit`
- `[é…å±]` ãƒœã‚¿ãƒ³ â†’ `/assignments?site={id}` (é…å±ç®¡ç†ç”»é¢ã§ç¾å ´ã‚’äº‹å‰é¸æŠ)
- `[ç·¨é›†]` ãƒœã‚¿ãƒ³ (ä¸‹éƒ¨) â†’ `/sites/{id}/edit`
- `[å‰Šé™¤]` ãƒœã‚¿ãƒ³ â†’ å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ `/sites` (å‰Šé™¤å¾Œä¸€è¦§ã«æˆ»ã‚‹)
- `[ä¸€è¦§ã«æˆ»ã‚‹]` ãƒœã‚¿ãƒ³ â†’ `/sites`
- å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯ â†’ `/employees/{employee_id}`

#### 8. ç¾å ´ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢ (`/sites/new`, `/sites/:id/edit`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > ç¾å ´ç®¡ç† >     â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”‚ ç¾å ´ç™»éŒ²/ç·¨é›†                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ã‚·ãƒ³ã‚°ãƒ«
â”‚ â”‚ ç¾å ´å *                    â”‚ â”‚ ã‚«ãƒ©ãƒ 
â”‚ â”‚ [_________________________] â”‚ â”‚ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ æ‰€åœ¨åœ° *                    â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ é–‹å§‹æ—¥ *      çµ‚äº†æ—¥        â”‚ â”‚
â”‚ â”‚ [2024-01-01] [2024-12-31]  â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ çŠ¶æ³ *                      â”‚ â”‚
â”‚ â”‚ [é€²è¡Œä¸­â–¼]                  â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ç¾å ´è²¬ä»»è€…å                â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ èª¬æ˜                        â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ * å¿…é ˆé …ç›®                      â”‚
â”‚ [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é ˜åŸŸ]          â”‚
â”‚                                 â”‚
â”‚ [ä¿å­˜] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ä¿å­˜]` ãƒœã‚¿ãƒ³ â†’
  - æ–°è¦ä½œæˆæ™‚: ãƒ‡ãƒ¼ã‚¿ä¿å­˜å¾Œ `/sites/{æ–°ã—ã„id}` (è©³ç´°ç”»é¢)
  - ç·¨é›†æ™‚: ãƒ‡ãƒ¼ã‚¿ä¿å­˜å¾Œ `/sites/{id}` (è©³ç´°ç”»é¢)
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚: åŒã˜ç”»é¢ã§ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- `[ã‚­ãƒ£ãƒ³ã‚»ãƒ«]` ãƒœã‚¿ãƒ³ â†’
  - æ–°è¦ä½œæˆæ™‚: `/sites`
  - ç·¨é›†æ™‚: `/sites/{id}`

#### 9. é…å±ç®¡ç†ç”»é¢ (`/assignments`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > é…å±ç®¡ç†       â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–°è¦é…å±                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å¾“æ¥­å“¡é¸æŠ *                â”‚ â”‚
â”‚ â”‚ [ç”°ä¸­å¤ªéƒã‚’å…¥åŠ›...        â–¼] â”‚ â”‚ ã‚ªãƒ¼ãƒˆ
â”‚ â”‚                             â”‚ â”‚ ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ
â”‚ â”‚ ç¾å ´é¸æŠ *                  â”‚ â”‚
â”‚ â”‚ [æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å…¥åŠ›... â–¼] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ é…å±æœŸé–“                    â”‚ â”‚
â”‚ â”‚ é–‹å§‹æ—¥: [2024-01-01]        â”‚ â”‚
â”‚ â”‚ çµ‚äº†æ—¥: [         ] (ä»»æ„) â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ å½¹å‰²                        â”‚ â”‚
â”‚ â”‚ [ãƒ¡ã‚¤ãƒ³é–‹ç™ºè€…]              â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚        [é…å±å®Ÿè¡Œ]           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ ç¾åœ¨ã®é…å±ä¸€è¦§                  â”‚
â”‚ [æ¤œç´¢: å¾“æ¥­å“¡å,ç¾å ´å ______] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚å¾“æ¥­å“¡â”‚ç¾å ´    â”‚å½¹å‰²  â”‚é…å±æœŸé–“  â”‚æ“ä½œâ”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¤
â”‚ â”‚ç”°ä¸­å¤ªâ”‚æ±äº¬    â”‚ãƒ¡ã‚¤ãƒ³â”‚2024-01-15â”‚[è§£]â”‚
â”‚ â”‚ä½è—¤èŠ±â”‚å¤§é˜ª    â”‚ã‚µãƒ–  â”‚2024-02-01â”‚[è§£]â”‚
â”‚ â”‚éˆ´æœ¨ä¸€â”‚æ±äº¬    â”‚ãƒ†ã‚¹ãƒˆâ”‚2024-01-15â”‚[è§£]â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜
â”‚          [< å‰ã¸]  1  [æ¬¡ã¸ >]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[é…å±å®Ÿè¡Œ]` ãƒœã‚¿ãƒ³ â†’ é…å±ãƒ‡ãƒ¼ã‚¿ä¿å­˜ â†’ åŒã˜ç”»é¢ã§é…å±ä¸€è¦§æ›´æ–°
- å„è¡Œã® `[è§£]` (è§£é™¤) ãƒœã‚¿ãƒ³ â†’ é…å±è§£é™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ è§£é™¤å®Ÿè¡Œ (åŒã˜ç”»é¢ã§æ›´æ–°)
- å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯ â†’ `/employees/{employee_id}`
- ç¾å ´åã‚¯ãƒªãƒƒã‚¯ â†’ `/sites/{site_id}`
- URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯¾å¿œ:
  - `?employee={id}` â†’ å¾“æ¥­å“¡ã‚’äº‹å‰é¸æŠçŠ¶æ…‹
  - `?site={id}` â†’ ç¾å ´ã‚’äº‹å‰é¸æŠçŠ¶æ…‹

#### 10. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ (`/profile`)
**è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ãƒ­ã‚´] å¾“æ¥­å“¡ç®¡ç†  [ãƒ¦ãƒ¼ã‚¶ãƒ¼â–¼] â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«   â”‚ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ] [è¨­å®š] [ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ]â”‚ ã‚¿ãƒ–
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç¾åœ¨ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹        â”‚ â”‚
â”‚ â”‚ user@example.com            â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´              â”‚ â”‚
â”‚ â”‚ ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ *          â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ *          â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª *            â”‚ â”‚
â”‚ â”‚ [_________________________] â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚     [ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´]        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ è¡¨ç¤ºè¨­å®š                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¨€èª: [æ—¥æœ¬èªâ–¼]            â”‚ â”‚
â”‚ â”‚ ãƒ†ãƒ¼ãƒ: [ãƒ©ã‚¤ãƒˆâ–¼]          â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚     [è¨­å®šä¿å­˜]              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ [ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯ãƒ»é·ç§»**:
- `[ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´]` ãƒœã‚¿ãƒ³ â†’ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ›´æ–° â†’ åŒã˜ç”»é¢ã§æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- `[è¨­å®šä¿å­˜]` ãƒœã‚¿ãƒ³ â†’ è¨­å®šä¿å­˜ â†’ åŒã˜ç”»é¢ã§æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- `[ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ]` ãƒœã‚¿ãƒ³ â†’ ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ `/login` (ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå®Ÿè¡Œ)
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ: å„ã‚¿ãƒ–ã‚¯ãƒªãƒƒã‚¯ã§åŒã˜ç”»é¢å†…ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ‡ã‚Šæ›¿ãˆ

## Screen Transition Design

### Detailed Navigation Flow Diagram
```mermaid
graph TD
    A[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢<br/>/login] --> B[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰<br/>/dashboard]

    %% ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã®é·ç§»
    B -->|å¾“æ¥­å“¡ç®¡ç†ãƒŠãƒ“| C[å¾“æ¥­å“¡ä¸€è¦§<br/>/employees]
    B -->|ç¾å ´ç®¡ç†ãƒŠãƒ“| D[ç¾å ´ä¸€è¦§<br/>/sites]
    B -->|é…å±ç®¡ç†ãƒŠãƒ“| E[é…å±ç®¡ç†<br/>/assignments]
    B -->|æ–°è¦å¾“æ¥­å“¡ç™»éŒ²ãƒœã‚¿ãƒ³| G[å¾“æ¥­å“¡æ–°è¦ä½œæˆ<br/>/employees/new]
    B -->|æ–°è¦ç¾å ´ç™»éŒ²ãƒœã‚¿ãƒ³| J[ç¾å ´æ–°è¦ä½œæˆ<br/>/sites/new]
    B -->|ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼| L[ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«<br/>/profile]

    %% å¾“æ¥­å“¡ç®¡ç†ç³»ã®é·ç§»
    C -->|æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³| G[å¾“æ¥­å“¡æ–°è¦ä½œæˆ<br/>/employees/new]
    C -->|å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯| F[å¾“æ¥­å“¡è©³ç´°<br/>/employees/:id]
    C -->|ç·¨é›†ãƒœã‚¿ãƒ³| H[å¾“æ¥­å“¡ç·¨é›†<br/>/employees/:id/edit]
    C -->|å‰Šé™¤ãƒœã‚¿ãƒ³| C1[å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    C1 -->|å‰Šé™¤å®Ÿè¡Œ| C

    F -->|ç·¨é›†ãƒœã‚¿ãƒ³| H[å¾“æ¥­å“¡ç·¨é›†<br/>/employees/:id/edit]
    F -->|å‰Šé™¤ãƒœã‚¿ãƒ³| F1[å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    F1 -->|å‰Šé™¤å®Ÿè¡Œ| C
    F -->|ä¸€è¦§ã«æˆ»ã‚‹ãƒœã‚¿ãƒ³| C

    G -->|ä¿å­˜ãƒœã‚¿ãƒ³| F
    G -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³| C
    H -->|ä¿å­˜ãƒœã‚¿ãƒ³| F
    H -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³| F

    %% ç¾å ´ç®¡ç†ç³»ã®é·ç§»
    D -->|æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³| J[ç¾å ´æ–°è¦ä½œæˆ<br/>/sites/new]
    D -->|ç¾å ´åã‚¯ãƒªãƒƒã‚¯| I[ç¾å ´è©³ç´°<br/>/sites/:id]
    D -->|ç·¨é›†ãƒœã‚¿ãƒ³| K[ç¾å ´ç·¨é›†<br/>/sites/:id/edit]
    D -->|è©³ç´°ãƒœã‚¿ãƒ³| I

    I -->|ç·¨é›†ãƒœã‚¿ãƒ³| K[ç¾å ´ç·¨é›†<br/>/sites/:id/edit]
    I -->|é…å±ãƒœã‚¿ãƒ³| E2[é…å±ç®¡ç†<br/>/assignments?site=:id]
    I -->|å‰Šé™¤ãƒœã‚¿ãƒ³| I1[å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    I1 -->|å‰Šé™¤å®Ÿè¡Œ| D
    I -->|ä¸€è¦§ã«æˆ»ã‚‹ãƒœã‚¿ãƒ³| D
    I -->|å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯| F

    J -->|ä¿å­˜ãƒœã‚¿ãƒ³| I
    J -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³| D
    K -->|ä¿å­˜ãƒœã‚¿ãƒ³| I
    K -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³| I

    %% é…å±ç®¡ç†ç³»ã®é·ç§»
    E -->|é…å±å®Ÿè¡Œãƒœã‚¿ãƒ³| E
    E -->|è§£é™¤ãƒœã‚¿ãƒ³| E1[é…å±è§£é™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    E1 -->|è§£é™¤å®Ÿè¡Œ| E
    E -->|å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯| F
    E -->|ç¾å ´åã‚¯ãƒªãƒƒã‚¯| I
    E2 -->|é…å±å®Ÿè¡Œãƒœã‚¿ãƒ³| E2
    E2 -->|å¾“æ¥­å“¡åã‚¯ãƒªãƒƒã‚¯| F
    E2 -->|ç¾å ´åã‚¯ãƒªãƒƒã‚¯| I

    %% ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç³»ã®é·ç§»
    L -->|ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³| L1[ãƒ­ã‚°ã‚¢ã‚¦ãƒˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    L1 -->|ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå®Ÿè¡Œ| A

    %% ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã«ã‚ˆã‚‹é·ç§»
    F -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| C
    F -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    H -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| C
    H -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    G -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| C
    G -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B

    I -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| D
    I -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    K -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| D
    K -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    J -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| D
    J -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B

    E -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    E2 -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B
    L -.->|ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ| B

    %% ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹é·ç§»
    F -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| C
    F -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| D
    F -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| E
    H -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| C
    H -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| D
    H -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| E

    I -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| C
    I -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| D
    I -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| E
    K -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| C
    K -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| D
    K -.->|ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“| E

    style A fill:#ffcccb
    style B fill:#ccffcc
    style C fill:#ccccff
    style D fill:#ffffcc
    style E fill:#ffccff
    style F fill:#ccccff
    style G fill:#ccccff
    style H fill:#ccccff
    style I fill:#ffffcc
    style J fill:#ffffcc
    style K fill:#ffffcc
    style L fill:#ffddcc
    style E2 fill:#ffccff
```

### Button-Specific Navigation Map

#### ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è©³ç´°
```mermaid
graph TD
    A[å‰Šé™¤ãƒœã‚¿ãƒ³æŠ¼ä¸‹] --> B[ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º]
    B --> C{ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ}
    C -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«| D[å…ƒã®ç”»é¢ã«æˆ»ã‚‹]
    C -->|å‰Šé™¤å®Ÿè¡Œ| E[ãƒ‡ãƒ¼ã‚¿å‰Šé™¤å‡¦ç†]
    E --> F[æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º]
    F --> G[ä¸€è¦§ç”»é¢ã«é·ç§»/æ›´æ–°]

    H[ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³æŠ¼ä¸‹] --> I[ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º]
    I --> J{ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ}
    J -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«| K[ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ç¶™ç¶š]
    J -->|ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå®Ÿè¡Œ| L[ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤]
    L --> M[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]

    N[é…å±è§£é™¤ãƒœã‚¿ãƒ³æŠ¼ä¸‹] --> O[ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º]
    O --> P{ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ}
    P -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«| Q[é…å±ç®¡ç†ç”»é¢ç¶™ç¶š]
    P -->|è§£é™¤å®Ÿè¡Œ| R[é…å±ãƒ‡ãƒ¼ã‚¿å‰Šé™¤]
    R --> S[æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º]
    S --> T[é…å±ä¸€è¦§æ›´æ–°]
```

### Authentication Flow
```mermaid
sequenceDiagram
    participant U as User
    participant L as Login Screen
    participant A as Auth Service
    participant D as Dashboard

    U->>L: ã‚¢ã‚¯ã‚»ã‚¹
    L->>U: ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
    U->>L: èªè¨¼æƒ…å ±å…¥åŠ›
    L->>A: èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    A->>L: èªè¨¼çµæœ
    alt èªè¨¼æˆåŠŸ
        L->>D: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
        D->>U: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º
    else èªè¨¼å¤±æ•—
        L->>U: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
```

### CRUD Operation Flow
```mermaid
sequenceDiagram
    participant U as User
    participant L as List Screen
    participant F as Form Screen
    participant API as API Service
    participant DB as Database

    %% æ–°è¦ä½œæˆãƒ•ãƒ­ãƒ¼
    U->>L: æ–°è¦ä½œæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    L->>F: ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢ã¸é·ç§»
    F->>U: ç©ºã®ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
    U->>F: ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ»é€ä¿¡
    F->>API: ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    API->>DB: ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    DB->>API: ä¿å­˜çµæœ
    API->>F: ãƒ¬ã‚¹ãƒãƒ³ã‚¹
    F->>L: ä¸€è¦§ç”»é¢ã¸æˆ»ã‚‹
    L->>U: æ›´æ–°ã•ã‚ŒãŸä¸€è¦§è¡¨ç¤º
```

### Navigation Rules and Guards

#### Route Protection
1. **èªè¨¼ãŒå¿…è¦ãªãƒ«ãƒ¼ãƒˆ**: `/dashboard`, `/employees/*`, `/sites/*`, `/assignments/*`, `/profile`
   - æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªå‹•çš„ã«`/login`ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - èªè¨¼çŠ¶æ…‹ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®JWTãƒˆãƒ¼ã‚¯ãƒ³ã§ç®¡ç†

2. **ç®¡ç†è€…é™å®šãƒ«ãƒ¼ãƒˆ**: å‰Šé™¤æ“ä½œã€ä¸€æ‹¬æ“ä½œ
   - æ¨©é™ä¸è¶³æ™‚ã¯æ“ä½œãƒœã‚¿ãƒ³ã‚’éæ´»æ€§åŒ–
   - ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œæ™‚ã¯è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

#### Breadcrumb Navigation
éšå±¤çš„ãªãƒšãƒ¼ã‚¸ã«ã¯ breadcrumb ã‚’è¡¨ç¤ºï¼š
```
ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > å¾“æ¥­å“¡ç®¡ç† > å¾“æ¥­å“¡è©³ç´° (ç”°ä¸­å¤ªéƒ)
ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > ç¾å ´ç®¡ç† > ç¾å ´ç·¨é›† (æ±äº¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ)
```

#### State Management for Navigation
- **URL State**: React Router ã‚’ä½¿ç”¨ã—ãŸãƒ«ãƒ¼ãƒˆç®¡ç†
- **Navigation History**: ãƒ–ãƒ©ã‚¦ã‚¶å±¥æ­´ã‚’æ´»ç”¨
- **Tab State**: å„ç”»é¢å†…ã®ã‚¿ãƒ–çŠ¶æ…‹ã¯ URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ç®¡ç†
- **Filter State**: æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã¯ URL ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ç®¡ç†

#### Mobile Responsive Navigation
- **768pxä»¥ä¸‹**: ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ
- **Touch Navigation**: ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã§ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰
- **Responsive Tables**: å°ç”»é¢ã§ã¯é‡è¦ãªåˆ—ã®ã¿è¡¨ç¤ºã€è©³ç´°ã¯å±•é–‹ã§ç¢ºèª

## Data Models

### Employee Model
```typescript
interface Employee {
  id: string;                    // UUID
  first_name: string;           // åå‰
  last_name: string;            // å§“
  email: string;                // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
  phone?: string;               // é›»è©±ç•ªå·ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  department: string;           // éƒ¨ç½²
  position: string;             // å½¹è·
  hire_date: Date;              // å…¥ç¤¾æ—¥
  status: 'active' | 'inactive'; // åœ¨ç±çŠ¶æ³
  created_at: Date;             // ä½œæˆæ—¥æ™‚
  updated_at: Date;             // æ›´æ–°æ—¥æ™‚
}
```

### Site Model
```typescript
interface Site {
  id: string;                   // UUID
  name: string;                 // ç¾å ´å
  description?: string;         // èª¬æ˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  location: string;             // æ‰€åœ¨åœ°
  start_date: Date;             // é–‹å§‹æ—¥
  end_date?: Date;              // çµ‚äº†æ—¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  status: 'active' | 'completed' | 'suspended'; // ç¾å ´çŠ¶æ³
  manager_name?: string;        // ç¾å ´è²¬ä»»è€…åï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  created_at: Date;             // ä½œæˆæ—¥æ™‚
  updated_at: Date;             // æ›´æ–°æ—¥æ™‚
}
```

### Assignment Model
```typescript
interface Assignment {
  id: string;                   // UUID
  employee_id: string;          // å¾“æ¥­å“¡IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
  site_id: string;              // ç¾å ´IDï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰
  start_date: Date;             // é…å±é–‹å§‹æ—¥
  end_date?: Date;              // é…å±çµ‚äº†æ—¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  role?: string;                // ç¾å ´ã§ã®å½¹å‰²ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  notes?: string;               // å‚™è€ƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  created_at: Date;             // ä½œæˆæ—¥æ™‚
  updated_at: Date;             // æ›´æ–°æ—¥æ™‚
  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  employee?: Employee;          // å¾“æ¥­å“¡æƒ…å ±
  site?: Site;                  // ç¾å ´æƒ…å ±
}
```

## Error Handling

### Error Scenarios
1. **èªè¨¼ã‚¨ãƒ©ãƒ¼**
   - **Handling:** AuthContextã§ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰ã—ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - **User Impact:** ã€Œèªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼**
   - **Handling:** React Queryã®onErrorè¨­å®šã§ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ã€ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã‚’æä¾›
   - **User Impact:** ã€Œã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€

3. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼**
   - **Handling:** React Hook Formã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨zodã‚¹ã‚­ãƒ¼ãƒã§ãƒ•ã‚©ãƒ¼ãƒ æ¤œè¨¼
   - **User Impact:** å„å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸‹ã«å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

4. **æ¨©é™ã‚¨ãƒ©ãƒ¼**
   - **Handling:** APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€403ã‚¨ãƒ©ãƒ¼æ™‚ã¯æ¨©é™ä¸è¶³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
   - **User Impact:** ã€Œã“ã®æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

5. **é‡è¤‡ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼**
   - **Handling:** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ¶ç´„é•åã‚’æ•æ‰ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰æ›
   - **User Impact:** ã€Œã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€ç­‰ã®å…·ä½“çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

## Testing Strategy

### Unit Testing
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Vitestã‚’ä½¿ç”¨ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»é–¢æ•°å˜ä½ã®ãƒ†ã‚¹ãƒˆ
- **ä¸»è¦ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
  - å„Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
  - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®çŠ¶æ…‹ç®¡ç†ãƒ†ã‚¹ãƒˆ
  - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®å…¥å‡ºåŠ›ãƒ†ã‚¹ãƒˆ
  - ã‚µãƒ¼ãƒ“ã‚¹å±¤ã®APIã‚³ãƒ¼ãƒ«ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 100%

### Integration Testing
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: React Testing Libraryã‚’ä½¿ç”¨ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æºãƒ†ã‚¹ãƒˆ
- **ä¸»è¦ãƒ†ã‚¹ãƒˆãƒ•ãƒ­ãƒ¼**:
  - èªè¨¼ãƒ•ãƒ­ãƒ¼ã¨ãƒšãƒ¼ã‚¸é·ç§»
  - CRUDæ“ä½œã®å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
  - ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ã¾ã§
  - æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½

### End-to-End Testing
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Playwrightã‚’ä½¿ç”¨ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•åŒ–ãƒ†ã‚¹ãƒˆ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ª**:
  - ãƒ­ã‚°ã‚¤ãƒ³ã‹ã‚‰å¾“æ¥­å“¡ç™»éŒ²ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼
  - ç¾å ´ç®¡ç†ã®å…¨æ“ä½œã‚·ãƒŠãƒªã‚ª
  - é…å±ä½œæˆãƒ»ç®¡ç†ãƒ»è§£é™¤ã®ãƒ•ãƒ­ãƒ¼
  - æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ä¸€è¦§è¡¨ç¤ºã®ç¢ºèª
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®æ¤œè¨¼

### Performance Testing
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Lighthouseã€Web Vitalsã‚’ä½¿ç”¨ã—ãŸæ€§èƒ½æ¸¬å®š
- **æ¸¬å®šé …ç›®**:
  - ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚é–“
  - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã¾ã§ã®æ™‚é–“
  - ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
  - Core Web Vitals (LCP, FID, CLS)

## Backend API Specification

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒæœŸå¾…ã™ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIä»•æ§˜ã‚’å®šç¾©ã—ã¾ã™ã€‚ç¾åœ¨ã¯Supabaseã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€å°†æ¥çš„ãªç‹¬è‡ªAPIç§»è¡Œã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆã¨ã—ã¾ã™ã€‚

### API Base Configuration

```typescript
// APIãƒ™ãƒ¼ã‚¹è¨­å®š
const API_BASE_URL = process.env.VITE_API_BASE_URL || 'https://your-supabase-url.supabase.co'
const API_VERSION = 'v1'
const API_ENDPOINTS = {
  employees: `/rest/${API_VERSION}/employees`,
  sites: `/rest/${API_VERSION}/sites`,
  assignments: `/rest/${API_VERSION}/assignments`,
  auth: `/auth/${API_VERSION}`
}
```

### Authentication APIs

#### POST /auth/v1/token
**Purpose**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã¨JWTãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
**Called from**: `src/hooks/useAuth.ts` - `signIn()`

```typescript
// Request
interface LoginRequest {
  email: string;
  password: string;
}

// Response
interface LoginResponse {
  access_token: string;
  token_type: 'bearer';
  expires_in: number;
  refresh_token: string;
  user: {
    id: string;
    email: string;
    user_metadata?: {
      first_name?: string;
      last_name?: string;
    };
  };
}
```

#### POST /auth/v1/signup
**Purpose**: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
**Called from**: `src/hooks/useAuth.ts` - `signUp()`

```typescript
// Request
interface SignupRequest {
  email: string;
  password: string;
  data?: {
    first_name?: string;
    last_name?: string;
  };
}

// Response: Same as LoginResponse
```

#### POST /auth/v1/logout
**Purpose**: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
**Called from**: `src/hooks/useAuth.ts` - `signOut()`

```typescript
// Request: No body (JWT in Authorization header)
// Response
interface LogoutResponse {
  message: string;
}
```

#### GET /auth/v1/user
**Purpose**: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
**Called from**: `src/hooks/useAuth.ts` - `getCurrentUser()`

```typescript
// Response
interface UserResponse {
  user: {
    id: string;
    email: string;
    user_metadata?: {
      first_name?: string;
      last_name?: string;
    };
  } | null;
}
```

### Employee Management APIs

#### GET /rest/v1/employees
**Purpose**: å¾“æ¥­å“¡ä¸€è¦§å–å¾—ï¼ˆæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œï¼‰
**Called from**: `src/hooks/api/useEmployees.ts` - `useEmployees()`

```typescript
// Query Parameters
interface EmployeeQueryParams {
  select?: string;                    // å–å¾—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æŒ‡å®š
  first_name?: string;               // åå‰ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  last_name?: string;                // å§“ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  email?: string;                    // ãƒ¡ãƒ¼ãƒ«ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  department?: string;               // éƒ¨ç½²ã§ã®å®Œå…¨ä¸€è‡´ãƒ•ã‚£ãƒ«ã‚¿
  position?: string;                 // å½¹è·ã§ã®å®Œå…¨ä¸€è‡´ãƒ•ã‚£ãƒ«ã‚¿
  status?: 'active' | 'inactive';    // åœ¨ç±çŠ¶æ³ãƒ•ã‚£ãƒ«ã‚¿
  hire_date?: string;                // å…¥ç¤¾æ—¥ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆgte, lteçµ„ã¿åˆã‚ã›ï¼‰
  order?: string;                    // ã‚½ãƒ¼ãƒˆæŒ‡å®šï¼ˆä¾‹: created_at.descï¼‰
  limit?: number;                    // å–å¾—ä»¶æ•°åˆ¶é™
  offset?: number;                   // ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
}

// Response
interface EmployeeListResponse {
  data: Employee[];
  count?: number;                    // å…¨ä»¶æ•°ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰
}
```

#### GET /rest/v1/employees/{id}
**Purpose**: å¾“æ¥­å“¡è©³ç´°å–å¾—ï¼ˆé…å±æƒ…å ±å«ã‚€ï¼‰
**Called from**: `src/hooks/api/useEmployees.ts` - `useEmployee()`

```typescript
// Path Parameters
interface EmployeeDetailParams {
  id: string;                        // å¾“æ¥­å“¡ID
}

// Query Parameters
interface EmployeeDetailQuery {
  select?: string;                   // é–¢é€£ãƒ‡ãƒ¼ã‚¿å–å¾—æŒ‡å®šï¼ˆä¾‹: *, assignments(*, sites(*))ï¼‰
}

// Response
interface EmployeeDetailResponse {
  data: Employee & {
    current_assignments?: Array<{
      assignment_id: string;
      site_id: string;
      site_name: string;
      start_date: string;
      end_date?: string;
      role?: string;
      status: string;
    }>;
    assignment_history?: Array<{
      assignment_id: string;
      site_id: string;
      site_name: string;
      start_date: string;
      end_date?: string;
      role?: string;
      status: string;
    }>;
  };
}
```

#### POST /rest/v1/employees
**Purpose**: æ–°è¦å¾“æ¥­å“¡ç™»éŒ²
**Called from**: `src/hooks/api/useEmployees.ts` - `useCreateEmployee()`

```typescript
// Request
interface CreateEmployeeRequest {
  first_name: string;
  last_name: string;
  email: string;
  phone?: string;
  department: string;
  position: string;
  hire_date: string;                 // ISO 8601 format
  status: 'active' | 'inactive';
}

// Response
interface CreateEmployeeResponse {
  data: Employee;
}
```

#### PATCH /rest/v1/employees/{id}
**Purpose**: å¾“æ¥­å“¡æƒ…å ±æ›´æ–°
**Called from**: `src/hooks/api/useEmployees.ts` - `useUpdateEmployee()`

```typescript
// Request: Partial<CreateEmployeeRequest>
interface UpdateEmployeeRequest {
  first_name?: string;
  last_name?: string;
  email?: string;
  phone?: string;
  department?: string;
  position?: string;
  hire_date?: string;
  status?: 'active' | 'inactive';
}

// Response: Same as CreateEmployeeResponse
```

#### DELETE /rest/v1/employees/{id}
**Purpose**: å¾“æ¥­å“¡å‰Šé™¤
**Called from**: `src/hooks/api/useEmployees.ts` - `useDeleteEmployee()`

```typescript
// Response
interface DeleteResponse {
  message: string;
}
```

#### GET /rest/v1/employees?select=department
**Purpose**: éƒ¨ç½²ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨ï¼‰
**Called from**: `src/hooks/api/useEmployees.ts` - `useDepartments()`

```typescript
// Response
interface DepartmentListResponse {
  data: Array<{ department: string }>;
}
```

#### GET /rest/v1/employees?select=position
**Purpose**: å½¹è·ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨ï¼‰
**Called from**: `src/hooks/api/useEmployees.ts` - `usePositions()`

```typescript
// Response
interface PositionListResponse {
  data: Array<{ position: string }>;
}
```

### Site Management APIs

#### GET /rest/v1/sites
**Purpose**: ç¾å ´ä¸€è¦§å–å¾—ï¼ˆæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œï¼‰
**Called from**: `src/hooks/api/useSites.ts` - `useSites()`

```typescript
// Query Parameters
interface SiteQueryParams {
  select?: string;
  name?: string;                     // ç¾å ´åã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  location?: string;                 // æ‰€åœ¨åœ°ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  status?: 'active' | 'completed' | 'suspended';
  manager_name?: string;             // è²¬ä»»è€…åã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  start_date?: string;               // é–‹å§‹æ—¥ãƒ•ã‚£ãƒ«ã‚¿
  end_date?: string;                 // çµ‚äº†æ—¥ãƒ•ã‚£ãƒ«ã‚¿
  order?: string;
  limit?: number;
  offset?: number;
}

// Response
interface SiteListResponse {
  data: Array<Site & {
    assigned_count: number;          // ç¾åœ¨ã®é…å±äººæ•°
    progress?: number;               // é€²æ—ç‡ï¼ˆ0-100ï¼‰
    duration?: string;               // æœŸé–“è¡¨ç¤º
  }>;
  count?: number;
}
```

#### GET /rest/v1/sites/{id}
**Purpose**: ç¾å ´è©³ç´°å–å¾—ï¼ˆé…å±å¾“æ¥­å“¡æƒ…å ±å«ã‚€ï¼‰
**Called from**: `src/hooks/api/useSites.ts` - `useSite()`

```typescript
// Response
interface SiteDetailResponse {
  data: Site & {
    assigned_employees: Array<{
      assignment_id: string;
      employee_id: string;
      employee_name: string;
      start_date: string;
      end_date?: string;
      role?: string;
      status: string;
    }>;
    assignment_count: number;
  };
}
```

#### POST /rest/v1/sites
**Purpose**: æ–°è¦ç¾å ´ç™»éŒ²
**Called from**: `src/hooks/api/useSites.ts` - `useCreateSite()`

```typescript
// Request
interface CreateSiteRequest {
  name: string;
  description?: string;
  location: string;
  start_date: string;
  end_date?: string;
  status: 'active' | 'completed' | 'suspended';
  manager_name?: string;
}

// Response
interface CreateSiteResponse {
  data: Site;
}
```

#### PATCH /rest/v1/sites/{id}
**Purpose**: ç¾å ´æƒ…å ±æ›´æ–°
**Called from**: `src/hooks/api/useSites.ts` - `useUpdateSite()`

```typescript
// Request: Partial<CreateSiteRequest>
// Response: Same as CreateSiteResponse
```

#### DELETE /rest/v1/sites/{id}
**Purpose**: ç¾å ´å‰Šé™¤
**Called from**: `src/hooks/api/useSites.ts` - `useDeleteSite()`

#### GET /rest/v1/sites?select=location
**Purpose**: åœ°åŸŸä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨ï¼‰
**Called from**: `src/hooks/api/useSites.ts` - `useLocations()`

#### GET /rest/v1/sites?select=manager_name&manager_name=not.is.null
**Purpose**: è²¬ä»»è€…ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨ï¼‰
**Called from**: `src/hooks/api/useSites.ts` - `useManagers()`

### Assignment Management APIs

#### GET /rest/v1/assignments
**Purpose**: é…å±ä¸€è¦§å–å¾—ï¼ˆæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œï¼‰
**Called from**: `src/hooks/api/useAssignments.ts` - `useAssignments()`

```typescript
// Query Parameters
interface AssignmentQueryParams {
  select?: string;                   // ä¾‹: *, employees(*), sites(*)
  employee_id?: string;              // å¾“æ¥­å“¡IDãƒ•ã‚£ãƒ«ã‚¿
  site_id?: string;                  // ç¾å ´IDãƒ•ã‚£ãƒ«ã‚¿
  role?: string;                     // å½¹å‰²ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
  start_date?: string;               // é–‹å§‹æ—¥ãƒ•ã‚£ãƒ«ã‚¿
  end_date?: string;                 // çµ‚äº†æ—¥ãƒ•ã‚£ãƒ«ã‚¿
  is_active?: boolean;               // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé…å±ã®ã¿ï¼ˆend_date is nullï¼‰
  order?: string;
  limit?: number;
  offset?: number;
}

// Response
interface AssignmentListResponse {
  data: Array<Assignment & {
    employee_name: string;
    site_name: string;
    status: 'active' | 'completed' | 'upcoming';
    duration: string;
  }>;
  count?: number;
}
```

#### GET /rest/v1/assignments/{id}
**Purpose**: é…å±è©³ç´°å–å¾—
**Called from**: `src/hooks/api/useAssignments.ts` - `useAssignment()`

```typescript
// Response
interface AssignmentDetailResponse {
  data: Assignment & {
    employee: Employee;
    site: Site;
    duration: {
      formatted: string;
      days: number;
      weeks: number;
      months: number;
      years: number;
      is_ongoing: boolean;
      is_completed: boolean;
    };
    status: 'active' | 'completed' | 'upcoming';
  };
}
```

#### POST /rest/v1/assignments
**Purpose**: æ–°è¦é…å±ä½œæˆ
**Called from**: `src/hooks/api/useAssignments.ts` - `useCreateAssignment()`

```typescript
// Request
interface CreateAssignmentRequest {
  employee_id: string;
  site_id: string;
  start_date: string;
  end_date?: string;
  role?: string;
  notes?: string;
}

// Response
interface CreateAssignmentResponse {
  data: Assignment;
}
```

#### PATCH /rest/v1/assignments/{id}
**Purpose**: é…å±æƒ…å ±æ›´æ–°
**Called from**: `src/hooks/api/useAssignments.ts` - `useUpdateAssignment()`

#### DELETE /rest/v1/assignments/{id}
**Purpose**: é…å±å‰Šé™¤
**Called from**: `src/hooks/api/useAssignments.ts` - `useDeleteAssignment()`

#### GET /rest/v1/employees?status=eq.active
**Purpose**: é…å±ãƒ•ã‚©ãƒ¼ãƒ ç”¨å¾“æ¥­å“¡ã‚ªãƒ—ã‚·ãƒ§ãƒ³å–å¾—
**Called from**: `src/hooks/api/useAssignments.ts` - `useEmployeeOptions()`

```typescript
// Response
interface EmployeeOptionsResponse {
  data: Array<{
    value: string;                   // employee_id
    label: string;                   // employee full name
    department: string;
    position: string;
    current_assignments: number;     // ç¾åœ¨ã®é…å±æ•°
    available: boolean;              // åˆ©ç”¨å¯èƒ½æ€§
  }>;
}
```

#### GET /rest/v1/sites?status=eq.active
**Purpose**: é…å±ãƒ•ã‚©ãƒ¼ãƒ ç”¨ç¾å ´ã‚ªãƒ—ã‚·ãƒ§ãƒ³å–å¾—
**Called from**: `src/hooks/api/useAssignments.ts` - `useSiteOptions()`

```typescript
// Response
interface SiteOptionsResponse {
  data: Array<{
    value: string;                   // site_id
    label: string;                   // site name
    location: string;
    status: string;
    assigned_count: number;          // ç¾åœ¨ã®é…å±æ•°
    available: boolean;              // åˆ©ç”¨å¯èƒ½æ€§
  }>;
}
```

#### POST /rest/v1/assignments/validate
**Purpose**: é…å±ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ç­‰ï¼‰
**Called from**: `src/hooks/api/useAssignments.ts` - `useValidateAssignment()`

```typescript
// Request: Same as CreateAssignmentRequest

// Response
interface AssignmentValidationResponse {
  data: {
    is_valid: boolean;
    conflicts: Array<{
      type: 'duplicate' | 'overlap' | 'capacity';
      message: string;
      conflicting_assignment?: Assignment;
      suggestions?: string[];
    }>;
    warnings: string[];
  };
}
```

## API Integration Layer

### Service Layer Architecture

```typescript
// src/services/api/base.ts
class BaseAPIService {
  private baseURL: string;
  private headers: HeadersInit;

  constructor() {
    this.baseURL = process.env.VITE_API_BASE_URL!;
    this.headers = {
      'Content-Type': 'application/json',
      'apikey': process.env.VITE_SUPABASE_ANON_KEY!,
    };
  }

  async request<T>(
    endpoint: string,
    options: RequestInit = {}
  ): Promise<T> {
    // èªè¨¼ãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¤‰æ›
  }
}

// src/services/api/employees.ts
export class EmployeeAPIService extends BaseAPIService {
  async getEmployees(params?: EmployeeQueryParams): Promise<EmployeeListResponse> {
    return this.request('/rest/v1/employees', {
      method: 'GET',
      params
    });
  }

  async getEmployee(id: string): Promise<EmployeeDetailResponse> {
    return this.request(`/rest/v1/employees/${id}`, {
      method: 'GET',
      params: { select: '*, assignments(*, sites(*))' }
    });
  }

  // ä»–ã®CRUDæ“ä½œ...
}
```

### Hook Integration Points

```typescript
// src/hooks/api/useEmployees.ts
import { EmployeeAPIService } from '@/services/api/employees';

const employeeAPI = new EmployeeAPIService();

export const useEmployees = (searchParams?: EmployeeSearchParams) => {
  return useQuery({
    queryKey: ['employees', searchParams],
    queryFn: () => employeeAPI.getEmployees(searchParams),
    // React Queryè¨­å®š...
  });
};

export const useEmployee = (id: string) => {
  return useQuery({
    queryKey: ['employees', id],
    queryFn: () => employeeAPI.getEmployee(id),
    enabled: !!id,
  });
};

export const useCreateEmployee = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: (data: CreateEmployeeData) =>
      employeeAPI.createEmployee(data),
    onSuccess: () => {
      queryClient.invalidateQueries(['employees']);
    },
  });
};
```

### Error Handling Strategy

```typescript
// src/services/api/errors.ts
export class APIError extends Error {
  constructor(
    public status: number,
    public code: string,
    message: string
  ) {
    super(message);
    this.name = 'APIError';
  }
}

// src/hooks/api/errorHandler.ts
export const useAPIErrorHandler = () => {
  const handleError = useCallback((error: APIError) => {
    switch (error.status) {
      case 401:
        // èªè¨¼ã‚¨ãƒ©ãƒ¼ â†’ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
        break;
      case 403:
        // æ¨©é™ã‚¨ãƒ©ãƒ¼ â†’ æ¨©é™ä¸è¶³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        break;
      case 404:
        // Not Found â†’ å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        break;
      case 409:
        // Conflict â†’ é‡è¤‡ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        break;
      case 422:
        // Validation Error â†’ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ¥ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
        break;
      default:
        // ãã®ä»– â†’ æ±ç”¨ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        break;
    }
  }, []);

  return { handleError };
};
```

### API Call Points Summary

| Component/Hook | API Endpoint | Purpose |
|----------------|--------------|---------|
| `AuthContext` | `/auth/v1/token` | ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼ |
| `AuthContext` | `/auth/v1/user` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— |
| `AuthContext` | `/auth/v1/logout` | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `useEmployees` | `/rest/v1/employees` | å¾“æ¥­å“¡ä¸€è¦§å–å¾— |
| `useEmployee` | `/rest/v1/employees/{id}` | å¾“æ¥­å“¡è©³ç´°å–å¾— |
| `useCreateEmployee` | `/rest/v1/employees` | å¾“æ¥­å“¡ä½œæˆ |
| `useUpdateEmployee` | `/rest/v1/employees/{id}` | å¾“æ¥­å“¡æ›´æ–° |
| `useDeleteEmployee` | `/rest/v1/employees/{id}` | å¾“æ¥­å“¡å‰Šé™¤ |
| `useDepartments` | `/rest/v1/employees?select=department` | éƒ¨ç½²ä¸€è¦§ |
| `usePositions` | `/rest/v1/employees?select=position` | å½¹è·ä¸€è¦§ |
| `useSites` | `/rest/v1/sites` | ç¾å ´ä¸€è¦§å–å¾— |
| `useSite` | `/rest/v1/sites/{id}` | ç¾å ´è©³ç´°å–å¾— |
| `useCreateSite` | `/rest/v1/sites` | ç¾å ´ä½œæˆ |
| `useUpdateSite` | `/rest/v1/sites/{id}` | ç¾å ´æ›´æ–° |
| `useDeleteSite` | `/rest/v1/sites/{id}` | ç¾å ´å‰Šé™¤ |
| `useLocations` | `/rest/v1/sites?select=location` | åœ°åŸŸä¸€è¦§ |
| `useManagers` | `/rest/v1/sites?select=manager_name` | è²¬ä»»è€…ä¸€è¦§ |
| `useAssignments` | `/rest/v1/assignments` | é…å±ä¸€è¦§å–å¾— |
| `useAssignment` | `/rest/v1/assignments/{id}` | é…å±è©³ç´°å–å¾— |
| `useCreateAssignment` | `/rest/v1/assignments` | é…å±ä½œæˆ |
| `useUpdateAssignment` | `/rest/v1/assignments/{id}` | é…å±æ›´æ–° |
| `useDeleteAssignment` | `/rest/v1/assignments/{id}` | é…å±å‰Šé™¤ |
| `useEmployeeOptions` | `/rest/v1/employees?status=eq.active` | é…å±ãƒ•ã‚©ãƒ¼ãƒ ç”¨å¾“æ¥­å“¡ |
| `useSiteOptions` | `/rest/v1/sites?status=eq.active` | é…å±ãƒ•ã‚©ãƒ¼ãƒ ç”¨ç¾å ´ |
| `useValidateAssignment` | `/rest/v1/assignments/validate` | é…å±ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |